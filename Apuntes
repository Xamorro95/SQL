USE TABLA --> ES NECESARIO USARLO PARA INDICARLE QUE TABLA VA A USAR EN LAS SENTENCIAS

-------------------------------------------------ÍNDICE -------------------------------------------------
	-FUNCIONES:
          	-GENÉRICOS
			-FECHA
			-TEXTO
			-FORMATO
			-NUMEROS
	0.-EJEMPLOS BÁSICOS
	1.-FUNCIONES ESCALARES
	2.-JOIN
	3.-FUNCIONES DE AGRUPACIÓN
	4.-INSERT, DELETE Y UPDATE
	5.-SUBCONSULTAS
	
	

------------------------------------------------FUNCIONES -------------------------------------------------


-----------GENÉRICOS
	COUNT --> CUENTA EL NÚMERO TOTAL DE FILAS SEGÚN LA CONSULTA
	
	COALESCE(CAMPO, 'VALOR') --> SI EL VALOR QUE DEVUELVE ES NULO LO CAMBIA POR LO QUE LE INDIQUEMOS
	
	IN('VALOR', 'VALOR', 'VALOR') --> COMPRUEBA SI CONTIENE EL CAMPO EN UNA LISTA DE VALORES
	
-----------FECHA
	DAYNAME(CAMPO) --> SACA EL DÍA DE LA SEMANA EN LETRA DE UN CAMPO FECHA

	DAY(CAMPO) --> SACA EL DÍA DE UN CAMPO DE FECHA EN NÚMERO

-----------TEXTO
	LEFT(CAMPO,Nº) --> COGE TANTOS CARACTERES COMO LE INDIQUES
	
	CONCAT(CAMPO, CAMPO) --> CONCATENA TANTAS COSAS COMO LE INDIQUES
	
	SUBSTR(CAMPO, Ni, Nf) --> COGE TANTOS CARARTÉRES COMO LE INDIQUEMOS MEDIANTE UN NUMERO INICIAL Y UNO FINAL
	
----------FORMATO
	CAST(CAMPO AS FORMATO) --> CAMBIA EL TIPO DE FORMATO POR EL INDICADO (CHAR, DECIMAL)
	
	CONVERT(CAMPO, FORMATO) --> CAMBIA EL TIPO DE FORMATO POR EL INDICADO (CHAR, DECIMAL)
	
---------NÚMEROS
	AVG --> CALCULA LA MEDIA
	
	STD --> CALCULA LA DESVIACIÓN TÍPICA
	
	VARIANCE --> CALCULA LA VARIANZA
	
	MIN --> MUESTRA EL MÍNIMO
	
	MAX --> MUESTRA EL MÁXIMO

----------CAMBIOS
	COMMIT --> GUARDA TODOS LOS CAMBIOS LLEVADOS A CABO
	
	ROLLBACK--> DESHACE LOS CAMBIOS LLEVADOS A CABO
	
--------SUBCONSULTA
	IN --> EL CAMPO QUE CONPARAS SE ENCUENTRA DENTRO DE LA SUBCONSULTA
	
	ALL --> COMPARA CON EL CONJUNTO DE DATOS DE LA SUBCONSULTA
	
	ANY --> COMPARA CON CUALQUIER DATO DE LA SUBCONSULTA
	
	SOME --> COMPARA CON ALGUN DATO DE LA SUBCONSULTA
	
	EXIST --> SI DEVUELVE UN DATO LA SUBCONSULTA SE CONFIRMA EL EXIST
	
------------------------------------------------EJEMPLOS BÁSICOS -------------------------------------------------

0.1.- MOSTRAR EL NOMBRE, FECHA DE NACIMIENTO Y SALARIO DE LOS EMPLEADOS VARONES.
	    SELECT NOMBRE, APELLIDO, SALARIO 
         FROM TEMPLA 	
          WHERE SEXO = "M";

0.2.- MOSTRAR NOMBRE, APELLIDO Y SALARIO DE LOS EMPLEADOS CUYO APELLIDO EMPIEZA POR M.
	    SELECT NOMBRE, APELLIDO, SALARIO 
	     FROM TEMPLA
	      WHERE APELLIDO LIKE 'M%';

0.3.-  MOSTRAR LOS EMPLEADOS QUE GANAN MÁS DE 30000.
	    SELECT * 	
         FROM TEMPLA
	      WHERE SALARIO > 3000;

0.4.-  MOSTRAR LOS EMPLEADOS CONTRATADOS EN EL AÑO 2000.
		SELECT * 	
		 FROM TEMPLA	
		  WHERE FECHING BETWEEN '2000-01-01' AND '2000-12-31';

0.5.- MOSTRAR LOS EMPLEADOS DEL DEPARTAMENTO D21 ORDENADOS POR APELLIDO Y NOMBRE.
		SELECT *	
		 FROM TEMPLA	
		  WHERE DEPT = 'D21'
		   ORDER BY APELLIDO, NOMBRE;

0.6.- MOSTRAR LAS MUJERES QUE TRABAJAN EN LOS DEPARTAMENTOS QUE EMPIEZAN POR 'D'.
		SELECT *	
	 	 FROM TEMPLA	
	  	  WHERE DEPT LIKE 'D%' AND SEXO ='F';

0.7.- MOSTRAR LAS MUJERES QUE NO TRABAJAN EN LOS DEPARTAMENTOS QUE EMPIEZAN POR 'D'.
		SELECT *
		 FROM TEMPLA
		  WHERE DEPT NOT LIKE 'D%' AND SEXO ='F';


-----------------------------------------------FUNCIONES ESCALARES-----------------------------------------------------

1.0.- MOSTRAR EL EMPLEADO Y EL DIA DE LA SEMANA (EN TEXTO) QUE FUE CONTRATADO.
		SELECT NOMBRE, DAYNAME(FECHING)
		 FROM TEMPLA;

1.2.- DE LA TABLA EMPLEADO, MOSTRAR LOS TRES PRIMEROS CARACTERES DEL APELLIDO Y LOS DOS PRIMEROS DEL NOMBRE.
		SELECT LEFT(NOMBRE,3), LEFT(APELLIDO,2)	
		 FROM TEMPLA;

1.3.- AHORA VAMOS A GENERAR UN "CODIGO", VAMOS A CONCATENAR LA INICIAL, LOS DOS PRIMEROS CARACTERES DEL NOMBRE Y LOS 
		DOS PRIMEROS DEL APELLIDO. NOMBRAMOS A LA NUEVA COLUMNA COMO CODIGO.
		SELECT CONCAT(LEFT(NOMBRE,1), LEFT(NOMBRE,2), LEFT(APELLIDO,2)) AS CODIDO
		FROM TEMPLA;

1.4.- MOSTRAR EL TELEFONO COMO CAMPO DE TIPO INTEGER. SUMA ESE CAMPO AL SALARIO Y MUESTRALO EN UNA COLUMNA LLAMADA TOTAL.
		SELECT TLFN, SALARIO, (CAST(TLFN AS UNSIGNED)  + SALARIO) AS TOTAL	
		FROM TEMPLA;

1.5.- MOSTRAR LA COLUMNA SALARIO COMO DECIMAL(11,5).
		SELECT CONVERT(SALARIO, DECIMAL(11,5))
		FROM TEMPLA;
 
1.6.- QUEREMOS MOSTRAR EN UNA COLUMNA DE UN SOLO DIGITO, EL NUMERO DE LA DECENA DEL SALARIO DEL EMPLEADO... 
		SELECT SUBSTR(SALARIO,-5,1), SALARIO
		FROM TEMPLA;
		
1.7.- MOSTRAR EL EMPLEADO Y EL DIA DE LA SEMANA QUE FUE CONTRATADO.
		SELECT NOMBRE, DAY(FECHING) 
		FROM TEMPLA;
		
-----------------------------------------------JOIN-------------------------------------------------------------
2.0.- MOSTRAR EL NOMBRE DEL EMPLEADO JUNTO AL NOMBRE DEL HIJO.
		SELECT A.NOMBRE, B.NOMBRE
		FROM TEMPLA A INNER JOIN  HIJOS B
			ON A.NUEMPL = B.NUEMPL;

2.1.- LO MISMO QUE ANTES, PERO TAMBIEN MOSTRAMOS LOS NOMBRES DE LOS EMPLEADOS SIN HIJOS, INDICANDO " SIN HIJOS " EN EL
	NOMBRE DEL HIJO. 
		SELECT A.NOMBRE, COALESCE(B.NOMBRE, 'SIN HIJOS') HIJOS
		FROM TEMPLA A LEFT JOIN  HIJOS B
			ON A.NUEMPL = B.NUEMPL;

2.2.- MOSTRAR EL NOMBRE DEL EMPLEADO, EL NOMBRE DEL CONYUGE Y EL NOMBRE DEL HIJO.
		SELECT A.NOMBRE, B.NOMBRE, C.NOMBRE
		FROM TEMPLA A INNER JOIN HIJOS B 
			ON A.NUEMPL = B.NUEMPL INNER JOIN CONYUGES C 
				ON A.NUEMPL = C.NUEMPL;

2.3.- MOSTRAR LOS EMPLEADOS CON MÁS DE UN HIJO.
		SELECT A.NOMBRE, COUNT(*) N_HIJOS
		FROM TEMPLA A INNER JOIN  HIJOS B
			ON A.NUEMPL = B.NUEMPL
		GROUP BY B.NUEMPL;

2.4.- MOSTRAR LOS EMPLEADOS SIN HIJOS.
		SELECT A.NOMBRE
		FROM TEMPLA A LEFT JOIN  HIJOS B
			ON A.NUEMPL = B.NUEMPL
		WHERE B.NOMBRE IS NULL;

2.5.- MOSTRAR LOS EMPLEADOS QUE NO TIENEN CONYUGE. (PUEDES USAR EXISTS O EXCEPT)
		SELECT A.NOMBRE
		FROM TEMPLA A LEFT JOIN  CONYUGES B
			ON A.NUEMPL = B.NUEMPL
		WHERE B.NOMBRE IS NULL;

2.6.- MOSTRAR EL EMPLEADO, EL NOMBRE DE SU JEFE Y LOS AUMENTOS SALARIALES QUE HA TENIDO. 
		SI NO HA TENIDO NINGUNO MOSTRARLO TAMBIEN.
		
		SELECT A.NOMBRE, B.NUMDIREC, C.NOMBRE, COALESCE(AUMENTO, 'SIN AUMENTO')
		FROM TEMPLA A JOIN TDEPTA B 
			ON A.DEPT=B.NUMDEP JOIN TEMPLA C 
				ON C.NUEMPL=B.NUMDIREC LEFT JOIN AUMSAL D 
					ON A.NUEMPL=D.NUEMPL;
					
2.7.- MOSTRAR EL/LOS HIJOS DEL DEPARTAMENTO D11.
		SELECT A.NOMBRE, A.DEPT, C.NOMBRE
		FROM TEMPLA A JOIN TDEPTA B ON A.NUEMPL=B.NUMDIREC
			JOIN HIJOS C ON A.NUEMPL=C.NUEMPL
		WHERE A.DEPT='D11';
	
		
-------------------------------------------------FUNCIONES DE AGRUPACIÓN-------------------------------------------------------

3.0.- MOSTRAR LA MEDIA DEL SALARIO, LA DESVIACION TIPICA Y EL NÚMERO DE EMPLEADOS DE CADA DEPARTAMENTO. 
	EN LOS RESULTADOS MOSTRAMOS DATOS DE TIPO DECIMAL(8,2)
	
		SELECT DEPT, CAST(AVG(SALARIO) AS DECIMAL(8,2)) AS  MEDIA, CAST(STD(SALARIO) AS DECIMAL(8,2)) AS DESVIACION,
		COUNT(NUEMPL) AS NEMPLEADOS
		FROM TEMPLA
		GROUP BY DEPT;

3.1.- MOSTRAR EL MAXIMO , EL MINIMO, LA MEDIA, LA VARIANZA Y LA DESVIACION TIPICA DEL SALARIO DE LOS EMPLEADOS 
	PARA CADA DEPARTAMENTO, ORDENADO POR LA MEDIA...
		
		SELECT MIN(SALARIO) AS MINIMO, MAX(SALARIO) AS MAXIMO, AVG(SALARIO) AS MEDIA, VARIANCE(SALARIO) AS VARIANCA, 
		STD(SALARIO) AS DESVIACION
		FROM TEMPLA 	
		GROUP BY DEPT 
		ORDER BY AVG(SALARIO);

3.2.- DE LOS ANTERIORES MOSTRAR SÓLO LOS QUE TENGAN UNA DESVIACION TIPICA MENOR A 4000
	
		SELECT MIN(SALARIO) AS MINIMO, MAX(SALARIO) AS MAXIMO, AVG(SALARIO) AS MEDIA, VARIANCE(SALARIO) AS VARIANCA, 
		STD(SALARIO) AS DESVIACION	
		FROM TEMPLA 
		GROUP BY DEPT 
		HAVING STD(SALARIO) < 4000
		ORDER BY AVG(SALARIO);

3.3.- MOSTRAR EL NÚMERO DE EMPLEADOS CONTRATADOS EN CADA DÍA DE LA SEMANA (LUNES, MARTES, ETC.)
		SELECT DAYNAME(FECHING) AS DIA, COUNT(*)
		FROM TEMPLA
		GROUP BY DAYNAME(FECHING);
		
------------------------------------------------------INSERT, UPDATE, DELETE-------------------------------------------------

4.0.-INSERTAR EN LA TABLA HIJOS, ´000450', 'LUIS', 'MOLINA', '09-11-1995'
		INSERT INTO HIJOS (NUEMPL, NOMBRE, APELLIDO, FECHNAC) 
		VALUES (000450, 'LUIS', 'MOLINA', '1995-11-09');
		
4.1.-BORRA LA FILA ANTERIOR
		DELETE FROM HIJOS 
		WHERE NUEMPL='000450';
		
4.2-CAMBIA EL NOMBRE DEL HIJO DEL EMPLEADO '000060' POR 'MANUEL'
		UPDATE HIJOS SET NOMBRE='MANUEL' 
		WHERE NUEMPL='000060';

----------------------------------------------------SUBCONSULTAS-------------------------------------------------
5.0.-EMPLEADOS CON SALARIO MAYOR QUE LA MEDIA DEL SALARIO DE ALGUN DEPARTAMENTO.
		SELECT NUEMPL, NOMBRE, SALARIO
		FROM TEMPLA
 		WHERE SALARIO > ANY (SELECT AVG(SALARIO) 
		   					 FROM TEMPLA
		  					 GROUP BY DEPT);
							 
5.1- MOSTRAR LOS EMPLEADOS CON MÁS DE UN HIJO.
		SELECT NOMBRE 
		FROM TEMPLA
		WHERE NUEMPL IN (SELECT NUEMPL 
						 FROM HIJOS 
						 GROUP BY NUEMPL 
						 HAVING COUNT(NUEMPL) >1);

5.2- MOSTRAR LOS EMPLEADOS SIN HIJOS.
		SELECT NOMBRE
		FROM TEMPLA 
		WHERE NUEMPL NOT IN (SELECT DISTINCT NUEMPL 
							 FROM HIJOS);
		
5.3- MOSTRAR LOS EMPLEADOS QUE NO TIENEN CONYUGE.
		SELECT NOMBRE
		FROM TEMPLA 
		WHERE NUEMPL NOT IN (SELECT DISTINCT NUEMPL 
							 FROM CONYUGES);

5.4.- MOSTRAR LOS EMPLEADOS QUE GANAN MÁS QUE LA MEDIA DE SU NIVEL DE EDUCACION.
		SELECT NOMBRE, SALARIO, NIVEDUC
		FROM TEMPLA A
		WHERE SALARIO >  (SELECT AVG(SALARIO) 
						  FROM TEMPLA B 
						  WHERE NIVEDUC = A.NIVEDUC 
						  GROUP BY NIVEDUC) 
		ORDER BY NIVEDUC;
		
5.5.-QUE EMPLEADOS GANA MAS QUE LA MEDIA DE LA EMPRESA
		SELECT NOMBRE, SALARIO 
		FROM TEMPLA 
		WHERE SALARIO > (SELECT AVG(SALARIO) 
						 FROM TEMPLA);
